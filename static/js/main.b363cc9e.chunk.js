(this.webpackJsonpbringmakeshop=this.webpackJsonpbringmakeshop||[]).push([[0],{107:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},113:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(29),a=c.n(s),i=(c(67),c(51)),r=c(9),j=(c(68),c(69),c(53)),o=c.n(j),l=c(54),d=c.n(l),b=c(12),u=c(2),h=Object(n.createContext)(),O=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(u.jsx)(h.Provider,{value:Object(n.useReducer)(t,c),children:s})},m=function(){return Object(n.useContext)(h)},p=c(33),x=p.a.initializeApp({apiKey:"AIzaSyBYOtlsRQNH268kLi8EwRZxiWKZwoSXzFM",authDomain:"bringmakesshop.firebaseapp.com",projectId:"bringmakesshop",storageBucket:"bringmakesshop.appspot.com",messagingSenderId:"767995255703",appId:"1:767995255703:web:89e17d24435b415dae42d2",measurementId:"G-1LVRKST6H6"}).firestore(),g=p.a.auth(),f=p.a;var v=function(){var e=m(),t=Object(r.a)(e,2),c=t[0],n=c.basket,s=c.user;return t[1],Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(b.b,{to:"/",children:Object(u.jsx)("img",{className:"header_logo",src:"Flipkart_ED.jpg",alt:""})}),Object(u.jsxs)("div",{className:"header_search",children:[Object(u.jsx)("input",{className:"header_searchInput",type:"text"}),Object(u.jsx)(o.a,{className:"header_searchIcon"})]}),Object(u.jsx)("div",{className:"header_nav",children:Object(u.jsx)(b.b,{to:!s&&"/login",children:Object(u.jsxs)("div",{onClick:function(){s&&g.signOut()},className:"header_option",children:[Object(u.jsxs)("span",{className:"header_optionLineOne",children:["Hello ",s?s.email:"Guest"]}),Object(u.jsx)("span",{className:"header_optionLineTwo",children:s?"Sign Out":"Sign In"})]})})}),Object(u.jsx)(b.b,{to:"/orders",children:Object(u.jsxs)("div",{className:"header_option",children:[Object(u.jsx)("span",{className:"header_optionLineOne",children:"Returns"}),Object(u.jsx)("span",{className:"header_optionLineTwo",children:"Orders"})]})}),Object(u.jsxs)("div",{className:"header_option",children:[Object(u.jsx)("span",{className:"header_optionLineOne"}),Object(u.jsx)("span",{className:"your",children:" Your"}),Object(u.jsx)("span",{className:"header_optionLineTwo"}),Object(u.jsx)("span",{className:"prime",children:"Prime "})]}),Object(u.jsx)(b.b,{to:"/Checkout",children:Object(u.jsxs)("div",{className:"header_optionBasket",children:[Object(u.jsx)(d.a,{}),Object(u.jsx)("span",{className:"header_optionLineTwo header_basketCount",children:null===n||void 0===n?void 0:n.length})]})})]})},N=(c(82),c(83),c(32)),_=c.n(N);var y=function(e){var t=e.id,c=e.title,n=e.image,s=e.price,a=e.rating,i=m(),j=Object(r.a)(i,2),o=j[0].basket,l=j[1];return console.log("this is the basket >>>",o),Object(u.jsxs)("div",{className:"product",children:[Object(u.jsxs)("div",{className:"product_info",children:[Object(u.jsx)("p",{children:c}),Object(u.jsxs)("p",{className:"product_price",children:[Object(u.jsx)("small",{children:"\u20b9"}),Object(u.jsx)("strong",{children:s})]}),Object(u.jsx)("div",{className:"product_rating",children:Array(a).fill().map((function(e,t){return Object(u.jsxs)("p",{children:[Object(u.jsx)(_.a,{})," "]})}))})]}),Object(u.jsx)("img",{src:n,alt:""}),Object(u.jsx)("button",{onClick:function(){l({type:"ADD_TO_BASKET",item:{id:t,title:c,image:n,price:s,rating:a}})},children:"Add to Basket"})]})};var k=function(){return Object(u.jsx)("div",{className:"home",children:Object(u.jsxs)("div",{className:"home_container",children:[Object(u.jsxs)("div",{className:"home_row",children:[Object(u.jsx)(y,{title:"Upgrade your home",price:1e4,image:"amazon1.PNG",rating:5}),Object(u.jsx)(y,{title:" Pay | Secure your car & bike",price:1e4,image:"amazon2.PNG",rating:5}),Object(u.jsx)(y,{title:"Top picks for your home",price:1e4,image:"amazon3.PNG",rating:5}),Object(u.jsx)(y,{title:" picks for your Knowledge",price:1e4,image:"amazon4.PNG",rating:5})]}),Object(u.jsxs)("div",{className:"home_row",children:[Object(u.jsx)(y,{title:" Style for Women | Up to 70% off",price:1e4,image:"amazon5.PNG",rating:5}),Object(u.jsx)(y,{title:" Everyday essentials",price:1e4,image:"amazon6.PNG",rating:5}),Object(u.jsx)(y,{title:"Home essentials | Amazon Brands & more",price:1e4,image:"amazon7.PNG",rating:5}),Object(u.jsx)(y,{title:"Amazon Brands & more",price:1e4,image:"amazon8.PNG",rating:5})]}),Object(u.jsxs)("div",{className:"home_row",children:[Object(u.jsx)(y,{title:"For the perfect birthday celebration",price:1e4,image:"amazon10.PNG",rating:5}),Object(u.jsx)(y,{title:"Up to 50% off | Refurbished mobiles",price:1e4,image:"amazon11.PNG",rating:5}),Object(u.jsx)(y,{title:" Videogames",price:1e4,image:"amazon12.PNG",rating:5})]})]})})},S=(c(84),c(85),c(25)),E=c(42),w=c(22),P=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},T=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Object(w.a)(Object(w.a)({},e),{},{basket:[].concat(Object(E.a)(e.basket),[t.item])});case"EMPTY_BASKET":return Object(w.a)(Object(w.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e.id===t.id})),n=Object(E.a)(e.basket);return c>=0?n.splice(c,1):console.warn("Cant remove product (id: ".concat(t.id,") \n     as its not in a basket!")),Object(w.a)(Object(w.a)({},e),{},{basket:n});case"SET_USER":return Object(w.a)(Object(w.a)({},e),{},{user:t.user});default:return e}},R=c(11);var C=function(){var e=Object(R.f)(),t=m(),c=Object(r.a)(t,2),n=c[0].basket;return c[1],Object(u.jsxs)("div",{className:"Subtotal",children:[Object(u.jsx)(S.a,{renderText:function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{children:["Subtotal (",n.length," items):",Object(u.jsx)("strong",{children:e})]}),Object(u.jsxs)("small",{className:"subtotal_gift",children:[Object(u.jsx)("input",{type:"checkbox"}),"This order contains a gift"]})]})},decimalScale:2,value:P(n),displayType:"text",thousandSeparator:!0,prefix:"\u20b9"}),Object(u.jsx)("button",{onClick:function(t){return e.push("/payment")},children:"Proceed to Checkout"})]})};c(86);var I=function(e){var t=e.id,c=e.image,n=e.title,s=e.price,a=e.rating,i=e.hideButton,j=m(),o=Object(r.a)(j,2),l=(o[0].basket,o[1]);return Object(u.jsxs)("div",{className:"checkoutProduct",children:[Object(u.jsx)("img",{className:"checkoutProduct_image",src:c}),Object(u.jsxs)("div",{className:"checkoutProduct_info",children:[Object(u.jsx)("p",{className:"checkoutProduct_title",children:n}),Object(u.jsxs)("p",{className:"checkoutProduct_price",children:[Object(u.jsx)("small",{children:"\u20b9"}),Object(u.jsx)("strong",{children:s})]}),Object(u.jsx)("div",{className:"checkoutProduct_rating",children:Array(a).fill().map((function(e,t){return Object(u.jsxs)("p",{children:[Object(u.jsx)(_.a,{})," "]})}))}),!i&&Object(u.jsx)("button",{onClick:function(){l({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from the Basket"})]})]})};var B=function(){var e=m(),t=Object(r.a)(e,2),c=t[0],n=c.basket,s=c.user;return t[1],Object(u.jsx)("div",{className:"checkout",children:Object(u.jsxs)("div",{className:"checkout_left",children:[Object(u.jsx)("img",{className:"checkout_ad",src:"",alt:""}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:null===s||void 0===s?void 0:s.email}),Object(u.jsx)("h2",{className:"checkout_title",children:"Your Shopping Trolly  is empty"}),n.map((function(e){return Object(u.jsx)(I,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]}),Object(u.jsx)("div",{className:"checkout_right",children:Object(u.jsx)(C,{})})]})})};c(87);var A=function(){var e=Object(R.f)(),t=Object(n.useState)(""),c=Object(r.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(""),j=Object(r.a)(i,2),o=j[0],l=j[1];return Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)(b.b,{to:"/",children:Object(u.jsx)("img",{className:"login_logo",src:"Flipkart_ED.jpg",alt:""})}),Object(u.jsxs)("div",{className:"login_container",children:[Object(u.jsx)("h1",{children:"Sign-in"}),Object(u.jsxs)("form",{children:[Object(u.jsx)("h5",{children:"E-mail"}),Object(u.jsx)("input",{type:"text",value:s,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("h5",{children:"Password"}),Object(u.jsx)("input",{type:"password",value:o,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),g.signInWithEmailAndPassword(s,o).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login_signInButton",children:Object(u.jsx)("h2",{children:"Sign In"})}),Object(u.jsx)("p",{children:"By continuing, you agree to Conditions of Use and Privacy Notice."}),Object(u.jsx)(b.b,{to:"/Register",children:Object(u.jsx)("button",{className:"login_registerButton",children:"Create Your New Account"})}),Object(u.jsx)("h3",{className:"orr",children:"OR"}),Object(u.jsx)(b.b,{to:"/Mobileregister",children:Object(u.jsx)("button",{className:"login_registerButton",children:"Create Account With Your Phone"})})]})]})]})},M=c(27),z=c.n(M),D=c(41),U=(c(89),c(24)),Y=c(55),G=c.n(Y).a.create({baseURL:"http://localhost:5001/bringmakesshop/us-central1/api"});var F=function(){var e=m(),t=Object(r.a)(e,2),c=t[0],s=c.basket,a=c.user,i=t[1],j=Object(R.f)(),o=Object(U.useStripe)(),l=Object(U.useElements)(),d=Object(n.useState)(!1),h=Object(r.a)(d,2),O=h[0],p=h[1],g=Object(n.useState)(""),f=Object(r.a)(g,2),v=f[0],N=f[1],_=Object(n.useState)(null),y=Object(r.a)(_,2),k=y[0],E=y[1],w=Object(n.useState)(!0),T=Object(r.a)(w,2),C=T[0],B=T[1],A=Object(n.useState)(!0),M=Object(r.a)(A,2),Y=M[0],F=M[1];Object(n.useEffect)((function(){(function(){var e=Object(D.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({method:"post",url:"/payments/create?total=".concat(100*P(s))});case 2:t=e.sent,F(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),console.log("THE SECRET IS >>>",Y),console.log("",a);var L=function(){var e=Object(D.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.next=4,o.confirmCardPayment(Y,{payment_method:{card:l.getElement(U.CardElement)}}).then((function(e){var t=e.paymentIntent;x.collection("users").doc(null===a||void 0===a?void 0:a.uid).collection("orders").doc(t.id).set({basket:s,amount:t.amount,created:t.created}),p(!0),E(null),N(!1),i({type:"EMPTY_BASKET"}),j.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"payment",children:Object(u.jsxs)("div",{className:"payment_container",children:[Object(u.jsxs)("h1",{children:["Checkout (",Object(u.jsxs)(b.b,{to:"/checkout",children:[null===s||void 0===s?void 0:s.length," items"]}),")"]}),Object(u.jsxs)("div",{className:"payment_section",children:[Object(u.jsx)("div",{className:"payment_title",children:Object(u.jsx)("h3",{children:"Delivery Address"})}),Object(u.jsxs)("div",{className:"payment_address",children:[Object(u.jsx)("p",{children:null===a||void 0===a?void 0:a.email}),Object(u.jsx)("p",{children:"Mumbai, Kalyan"}),Object(u.jsx)("p",{children:"Thane"})]})]}),Object(u.jsxs)("div",{className:"payment_section",children:[Object(u.jsx)("div",{className:"payment_title",children:Object(u.jsx)("h3",{children:"Review  items and delivery"})}),Object(u.jsx)("div",{className:"payment_items",children:s.map((function(e){return Object(u.jsx)(I,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))})]}),Object(u.jsxs)("div",{className:"payment_section",children:[Object(u.jsx)("div",{className:"payment_title",children:Object(u.jsx)("h3",{children:"Payment"})}),Object(u.jsx)("div",{className:"payment_details",children:Object(u.jsxs)("form",{onSubmit:L,children:[Object(u.jsx)(U.CardElement,{onChange:function(e){B(e.empty),E(e.error?e.error.message:"")}}),Object(u.jsxs)("div",{className:"payment_priceContainer",children:[Object(u.jsx)(S.a,{renderText:function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("h3",{children:["Order Total :",e]})})},decimalScale:2,value:P(s),displayType:"text",thousandSeparator:!0,prefix:"\u20b9"}),Object(u.jsx)("button",{disabled:v||C||O,children:Object(u.jsx)("span",{children:v?Object(u.jsx)("p",{children:"processing"}):"Buy Now"})})]}),k&&Object(u.jsx)("div",{children:k})]})})]})]})})},L=c(56),K=(c(107),c(57)),H=c.n(K);c(109);var V=function(e){var t,c=e.order;return Object(u.jsxs)("div",{className:"order",children:[Object(u.jsx)("h2",{children:"Order"}),Object(u.jsx)("p",{children:H.a.unix(c.data.created).format("MMMM Do YYYY, h:mma")}),Object(u.jsx)("p",{className:"order_id",children:Object(u.jsx)("small",{children:c.id})}),null===(t=c.data.basket)||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(I,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})})),Object(u.jsx)(S.a,{renderText:function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("h3",{className:"order_total",children:["Order Total :",e]})})},decimalScale:2,value:c.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})]})};var W=function(){var e=m(),t=Object(r.a)(e,2),c=t[0],s=(c.basket,c.user),a=(t[1],Object(n.useState)([])),i=Object(r.a)(a,2),j=i[0],o=i[1];return Object(n.useEffect)((function(){s?x.collection("users").doc(null===s||void 0===s?void 0:s.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):o([])}),[s]),Object(u.jsxs)("div",{className:"orders",children:[Object(u.jsx)("h1",{children:"Your Orders "}),Object(u.jsx)("div",{className:"orders_order",children:null===j||void 0===j?void 0:j.map((function(e){return Object(u.jsx)(V,{order:e})}))})]})};c(110);var J=function(){return Object(u.jsxs)("div",{className:"Register",children:[Object(u.jsx)(b.b,{to:"/",children:Object(u.jsx)("img",{className:"login_logo1",src:"Flipkart_ED.jpg",alt:""})}),Object(u.jsxs)("div",{className:"Register_container",children:[Object(u.jsx)("h1",{children:"Register "}),Object(u.jsxs)("form",{children:[Object(u.jsx)("h5",{children:"E-mail"}),Object(u.jsx)("input",{type:"text"}),Object(u.jsx)("h5",{children:"Password"}),Object(u.jsx)("input",{type:"password"}),Object(u.jsx)("h5",{children:"Confirm Password"}),Object(u.jsx)("input",{type:"password"}),Object(u.jsx)("button",{type:"submit",className:"login_signInButton",children:Object(u.jsx)("h2",{children:"Sign In"})}),Object(u.jsx)("p",{children:"By continuing, you agree to Conditions of Use and Privacy Notice."})]})]})]})},Q=c(58),q=c(59),X=c(61),Z=c(60),$=(c(111),function(e){Object(X.a)(c,e);var t=Object(Z.a)(c);function c(){var e;Object(Q.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).setUpRecaptcha=function(){window.recaptchaVerifier=new f.auth.RecaptchaVerifier("recptcha-container",{size:"invisible",callback:function(t){e.onSignInSubmit()}})},e.onSignInSubmit=function(t){t.preventDefault(),e.setUpRecaptcha();var c=window.recaptchaVerifier;f.auth().signInWithPhoneNumber("+918291119621",c).then((function(e){window.confirmationResult=e;var t=window.prompt("Enter OTP");e.confirm(t).then((function(e){e.user;console.log("User is signed in ")})).catch((function(e){}))})).catch((function(e){}))},e}return Object(q.a)(c,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"Mobile",children:[Object(u.jsx)(b.b,{to:"/",children:Object(u.jsx)("img",{className:"Mobile_logo",src:"Flipkart_ED.jpg",alt:""})}),Object(u.jsx)("div",{className:"Mobile_container",children:Object(u.jsxs)("form",{onSubmit:this.onSignInSubmit,children:[Object(u.jsx)("div",{id:"recptcha-container"}),Object(u.jsx)("h5",{children:" Enter Phone Number"}),Object(u.jsx)("h5",{}),Object(u.jsx)("input",{type:"number"}),Object(u.jsx)("button",{type:"submit",className:"login_signInButton1",children:Object(u.jsx)("h2",{children:"submit"})})]})})]})}}]),c}(n.Component)),ee=Object(L.a)("pk_test_51ITpw9LTn9rgg9araIBshqJ2mxJrQI9sjeqX1IApnm2xbfTpjRpOYRObWDmOxD7MwICYCYhoSRQsrmyEN0PLCeoA00F16uf6nP");var te=function(){var e=m(),t=Object(r.a)(e,2);Object(i.a)(t[0]);var c=t[1];return Object(n.useEffect)((function(){g.onAuthStateChanged((function(e){console.log("THE USER IS >>>",e),c(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),Object(u.jsx)(b.a,{children:Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(R.c,{children:[Object(u.jsxs)(R.a,{path:"/Mobileregister",children:[Object(u.jsx)(v,{}),Object(u.jsx)($,{})]}),Object(u.jsx)(R.a,{path:"/Register",children:Object(u.jsx)(J,{})}),Object(u.jsxs)(R.a,{path:"/orders",children:[Object(u.jsx)(v,{}),Object(u.jsx)(W,{})]}),Object(u.jsx)(R.a,{path:"/login",children:Object(u.jsx)(A,{})}),Object(u.jsxs)(R.a,{path:"/checkout",children:[Object(u.jsx)(v,{}),Object(u.jsx)(B,{})]}),Object(u.jsxs)(R.a,{path:"/payment",children:[Object(u.jsx)(v,{}),Object(u.jsx)(U.Elements,{stripe:ee,children:Object(u.jsx)(F,{})})]}),Object(u.jsxs)(R.a,{path:"/Upgrade Home",children:[Object(u.jsx)(v,{}),Object(u.jsx)("h1",{children:"I am Upgrade Home"})]}),Object(u.jsxs)(R.a,{path:"/",children:[Object(u.jsx)(v,{}),Object(u.jsx)(k,{})]})]})})})};a.a.render(Object(u.jsx)(O,{initialState:{basket:[],user:null},reducer:T,children:Object(u.jsx)(te,{})}),document.getElementById("root"))},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},89:function(e,t,c){}},[[113,1,2]]]);
//# sourceMappingURL=main.b363cc9e.chunk.js.map